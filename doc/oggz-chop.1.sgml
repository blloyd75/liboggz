<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN"[
<!-- Process this file with docbook-to-man to generate an nroff manual
     page: `docbook-to-man manpage.sgml > manpage.1'.  You may view
     the manual page with: `docbook-to-man manpage.sgml | nroff -man |
     less'.  A typical entry in a Makefile or Makefile.am is:
 
manpage.1: manpage.sgml
        docbook-to-man $< > $@
  -->
 
  <!-- Fill in your name for FIRSTNAME and SURNAME. -->
  <!ENTITY dhfirstname "<firstname>Conrad</firstname>">
  <!ENTITY dhsurname   "<surname>Parker</surname>">
  <!-- Please adjust the date whenever revising the manpage. -->
  <!ENTITY dhdate      "<date>February 25, 2008</date>">
  <!-- SECTION should be 1-8, maybe w/ subsection other parameters are
       allowed: see man(7), man(1). -->
  <!ENTITY dhsection   "<manvolnum>1</manvolnum>">
  <!ENTITY dhemail     "<email>conrad@annodex.net</email>">
  <!ENTITY dhusername  "Annodex Association">
  <!ENTITY dhucpackage "<refentrytitle>oggz-chop</refentrytitle>">
  <!ENTITY dhpackage   "oggz-chop">
                                                                                 <!ENTITY debian      "<productname>Debian GNU/Linux</productname>">
  <!ENTITY gnu         "<acronym>GNU</acronym>">
]>

<refentry id="oggz-chop">

  <refentryinfo>
    <address>
      &dhemail;
    </address>
    <author>
      &dhfirstname;
      &dhsurname;
    </author>
    <copyright>
      <year>2008</year>
      <holder>&dhusername;</holder>
    </copyright>
    &dhdate;
  </refentryinfo>

  <refmeta>
    &dhucpackage;
    &dhsection;
  </refmeta>

  <refnamediv>
    <refname>&dhpackage;</refname>
    <refpurpose>Chop an Ogg file.
    </refpurpose>
  </refnamediv>

  <!-- A warning of 
  "document type does not allow element "PARAMETER" here"
  for all the <parameter> tags in the refsynopsisdiv.
  Ignore them as the <parameter> tag still gets interpreted correctly in
  the manpage. Deleting the tag however results in non-underlined 
  -->
  <refsynopsisdiv>
    <cmdsynopsis>
      <command>&dhpackage;</command>
      
      <group>
	<arg choice="opt">-o <parameter>filename</parameter></arg>
	<arg choice="opt">--output <parameter>filename</parameter></arg>
      </group>

      <group>
	<arg choice="opt">-s <parameter>start_time</parameter></arg>
	<arg choice="opt">--start <parameter>start_time</parameter></arg>
      </group>

      <group>
	<arg choice="opt">-e <parameter>end_time</parameter></arg>
	<arg choice="opt">--end <parameter>end_time</parameter></arg>
      </group>

      <group><arg choice="opt">-k</arg><arg choice="opt">--no-skeleton</arg></group>

      <arg choice="plain">filename</arg>
    </cmdsynopsis>

    <cmdsynopsis>
      <command>&dhpackage;</command>
      <group><arg choice="opt">-h</arg><arg choice="opt">--help</arg></group>
      <group><arg choice="opt">-v</arg><arg choice="opt">--version</arg></group>
    </cmdsynopsis>
    
  </refsynopsisdiv>
    
  <refsect1>
    <title>Description</title>
    <para>
      <command>&dhpackage;</command> chops a section of an Ogg file.
      It correctly interprets the granulepos timestamps of Ogg Vorbis, Speex,
      FLAC and Theora bitstreams, and all bitstreams of Annodex files.
    </para>
    <para>
      The output file contains copies of the headers of the input file, and
      all the codec data required to correctly decode the content between the
      start and end times specified on the commandline. For codecs with data
      dependencies like video keyframes, the keyframe prior to the starting
      time will be included in the output.
    </para>
    <para>
      Note that <command>&dhpackage</command> operates by copying pages of 
      Ogg data; it does not strip partial packets from the first or last
      data page included in the output. It does however ensure to set the
      end of stream flag on the last page of each logical bitstream.
    </para>
    <para>
      Skeleton handling: By default, the output will contain a Skeleton track
      specifying the start of the chop as presentation time.
    </para>
  </refsect1>
  
  <refsect1>
    <title>Options</title>
    <para>
      <command>&dhpackage;</command> accepts the following options:
    </para>
            
    <refsect2>
      <title>Output options</title>
      <variablelist>
	<varlistentry>
	  <term>-o <parameter>filename</parameter>, --output <parameter>filename</parameter></term>
	  <listitem><para>Write output to the specified
	      <parameter>filename</parameter> instead of printing it to
	      standard output.
	    </para></listitem>
	</varlistentry>

	<varlistentry>
	  <term>-s <parameter>start_time</parameter>, --start <parameter>start_time</parameter></term>
	  <listitem><para>Specify the start time of the chopped section to output.
	    </para></listitem>
	</varlistentry>

	<varlistentry>
	  <term>-e <parameter>end_time</parameter>, --end <parameter>end_time</parameter></term>
	  <listitem><para>Specify the end time of the chopped section to output.
	    </para></listitem>
	</varlistentry>

	<varlistentry>
	  <term>-k , --no-skeleton</term>
	  <listitem><para>Do NOT include a Skeleton bitstream in the output.
	    </para></listitem>
	</varlistentry>
      </variablelist>
	
      <title>Miscellaneous options</title>
      <variablelist>
	<varlistentry>
	  <term>-h, --help</term>
	  <listitem><para>Display usage information and exit.</para></listitem>
	</varlistentry>
	
	<varlistentry>
	  <term>-v, --version</term>
	  <listitem><para>Output version information and exit.</para></listitem>
	</varlistentry>

      </variablelist>
    </refsect2>
  </refsect1>

  <refsect1>
    <title>Server configuration</title>

    <para>
The following configuration for Apache httpd will enable oggz-chop. As with
most Apache directives, this may of course be restricted to particular
Directories or Locations:
</para>

  <para>
ScriptAlias /oggz-chop /usr/bin/oggz-chop
  </para><para>
Action application/ogg /oggz-chop
  </para>

    <refsect2>
      <title>HTTP/1.1 Cacheability</title>
      <para>
      oggz-chop generates Last-Modified HTTP headers, and
      responds correctly to If-Modified-Since conditional GET requests. 
      </para>

    </refsect2>
  </refsect1>

  <refsect1>
    <title>AUTHOR</title>
    <para>
      <author>
	&dhfirstname; &dhsurname;
      </author>
      &dhdate
    </para>
  </refsect1>

  <refsect1>
    <title>COPYRIGHT</title>
    <para>
      Copyright &copy; 2008 &dhusername;
    </para>
  </refsect1>

  <refsect1>
    <title>SEE ALSO</title>
    <para>
      <citerefentry>
	<refentrytitle>oggz-validate</refentrytitle>
	<manvolnum>1</manvolnum>
      </citerefentry>,
      <citerefentry>
	<refentrytitle>oggzmerge</refentrytitle>
	<manvolnum>1</manvolnum>
      </citerefentry>,
      <citerefentry>
	<refentrytitle>oggzdump</refentrytitle>
	<manvolnum>1</manvolnum>
      </citerefentry>,
      <citerefentry>
	<refentrytitle>hogg</refentrytitle>
	<manvolnum>1</manvolnum>
      </citerefentry>
    </para>
  </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
